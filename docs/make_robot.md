# ロボットの作り方

## RobotVRMのアプリをスマホにインストール

[RobotVRMアプリの開発環境構築仕方](./development.md)または[ストア(簡易お試し版)よりダウンロード](../README.md#簡易お試し用iosandroid)でスマホにRobotVRMのアプリをインストール

## ロボットカー準備

ArduinoのロボットカーとHC-02のBluetoothデバイス準備。作者は[こちら](https://osoyoo.com/ja/2020/05/22/osoyoo-model-3-v2-0-robot-learning-kit/)の**5000円程**のOSOYOOのロボットカーを購入しました、HC-02もそちらに含まれていたBluetoothデバイスです。

## ロボットカーの説明書に従い組み立てる

ロボットカーの説明書に従い組み立ててください

## (省略可能だが推奨)ロボットカーの動作確認

ロボットカーの説明書に従いArduinoでサンプルコードをロボットカーにインストールして動作確認しておくと良いと思います。ロボットカーにHC-02を取り付けて行うBluetoothのサンプルコードも動作確認しておくと良いです。

## RobotVRMのArduinoのコードをロボットカーに書き込み

[こちら](../Arduino)のRobotVRMフォルダをArduinoで開いてロボットカーに書き込んでください

※ `RobotVRM.ino`を直接ダウンロードしても良いですかArduinoで開く場合は、`RobotVRM/RobotVRM.ino`でRobotVRMフォルダが無いと開けませんので、`RobotVRM`フォルダを作成してその中に`RobotVRM.ino`を入れてください

## ロボットカーにスマホを固定できる場所を作る(固定できればなんでも良いです)

スマホをロボットカーに固定できれば何でも良いのですが、作者の場合は[こちらのL字金具](https://watts-online.jp/products/17539?srsltid=AfmBOorxREF7DXRADdJxEtMRO_0XfOGa0fC-jbt4V3DFVtg1LPHPnbcg)を100円ショップ(ダイソー)で買ってロボットカーに付属しているテープで貼り付けて、READMEの動画の通り輪ゴムで留めているだけです。

※ 固定できれば何でも良いと思います

![L字金具をテープで付けたロボットカー](./robot_car_with_smartphone_fixture.jpg)

## (省略可能だが推奨)スマホのサスペンドまでの時間を延長または無制限にしておく

ロボットの動作中にスマホがサスペンドしてしまうと止まってしまうので、スマホのサスペンドするまでの時間を延長又は無制限にしておきます

Androidの場合、設定アプリ > ディスプレイ > 画面消灯

iOSの場合、設定アプリ > 画面表示と明るさ > 自動ロック

※ 長時間ロボットとして使用しない場合は元に設定に戻すことをお勧めします

# ロボットの動かし方

## BluetoothでHC-02と接続

ロボットカーをHC-02で接続した状態で電源を入れ、RobotVRMアプリのロボットアイコンのボタンを押すと、周辺のHC-02のデバイスを探すので表示されたHC-02のデバイスを選択してロボットカーとBluetooth接続します

※ ここからはREADMEの動画の部分です

## ロボットカーにスマホを固定

作者の場合はREADMEの動画のように輪ゴムで固定しています

※ 固定できればなんでも良いと思います

## カメラをONにする

READMEの動画のようにカメラアイコンのボタンを押してカメラをONにします

※ デフォルトではカメラのプレビューが表示されますが、設定アイコンのボタン > 詳細設定 > "カメラON時にプレビューを非表示にする"をON にすればREADMEの動画のようにプレビューは非表示にできます。

## カメラによって周りをLLMが認識するのを待つ

カメラをONにした後、最初のリクエストをLLMに投げるまで少し時間が掛かるので30秒程待ちます。LLMにリクエストが投げられ始めれば、LLMのToolの使用に応じてロボットが動いたり、話したり、VRMの表情を変えたりします。

## 止める

RobotVRMアプリのカメラをOFFにするか、アプリを終了することでロボットの挙動を止めれます

## (その他)システムプロンプトを調整することで行動の傾向を少し変えれます

設定アイコンのボタン > キャラクター設定（システムプロンプト） の内容を変えればRobotVRMの挙動を少し変えることもできます。
